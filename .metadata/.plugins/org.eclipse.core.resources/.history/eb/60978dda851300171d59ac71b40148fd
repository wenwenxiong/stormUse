package stormUse.stormUse;

import java.util.HashMap;
import java.util.Map;

import org.apache.storm.Config;
import org.apache.storm.kafka.BrokerHosts;
import org.apache.storm.kafka.SpoutConfig;
import org.apache.storm.kafka.ZkHosts;

public class StormKafkaTopo 
{

	public static void main(String[] args) throws Exception 
	{ 
		// 配置Zookeeper地址
        BrokerHosts brokerHosts = new ZkHosts("192.168.153.233:2181");
        // 配置Kafka订阅的Topic，以及zookeeper中数据节点目录和名字
        SpoutConfig spoutConfig = new SpoutConfig(brokerHosts, "test", "/zkkafkaspout" , "kafkaspout");
       
　　　　   // 配置KafkaBolt中的kafka.broker.properties
        Config conf = new Config();  
        Map<String, String> map = new HashMap<String, String>(); 
　　　　   // 配置Kafka broker地址       
        map.put("metadata.broker.list", "192.168.153.233:9092");
        // serializer.class为消息的序列化类
        map.put("serializer.class", "kafka.serializer.StringEncoder");
        conf.put("kafka.broker.properties", map);
　　　　  // 配置KafkaBolt生成的topic
        conf.put("topic", "topic2");
	}
}
